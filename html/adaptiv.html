<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Адаптивна верстка</title>
    <!-- Goodle font -->
    <!-- <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik+Wet+Paint&display=swap" rel="stylesheet"> -->
    
    <!-- modern-normalize -->
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/modern-normalize/1.0.0/modern-normalize.min.css"
    />

    <!-- css -->
    <link rel="stylesheet" href="../css/styles-basic.css">
    <link rel="stylesheet" href="../css/style-js-btn-top.css">
    <link rel="stylesheet" href="../css/styles-adaptiv.css">
</head>

<body class="body-media">
    <header>
        <div>
            <a  class="fixed-back" href="../index.html">Back to main page</a>
            <nav>
            </nav>
        </div>
    </header>

    <main>
        <!-- Button to top -->
        <button class="toTop">
            <svg class="svgButtonToTop" xmlns="http://www.w3.org/2000/svg" width="32" height="32">
                <path d="M16 1 1 16h9v16h12V16h9z" />
            </svg>
        </button>

        <section class="section-title section-media">
            <div class="container container-media">
                <h1>Адаптивна верстка empty</h1>
            </div>
        </section>

        <section class="section-menu section-media">
            <div class="container container-media">
                <h2>Зміст</h2>
                <ol>
                    <li>Медіа-запити</li>
                    <li>Логічні оператори</li>
                    <li>Метатег viewport</li>
                    <li>Типи верстки</li>
                    <li>Щільність пікселів</li>
                    <li>Респонсивні зображення</li>
                    <li>Респонсивні фонові зображення</li>
                    <li>Респонсивний елемент img</li>
                    <li>Атрибут srcset</li>
                    <li>Дескриптор x</li>
                    <li>Дескриптор w</li>
                    <li>Атрибут sizes</li>
                    <li>Як браузер вибирає</li>
                    <li>Елемент picture</li>
                    <li>Підтримка сучасних форматів</li>
                    <li>Кадрування (art direction)</li>
                </ol>
            </div>
        </section>

        <section class="section-about section-media">
            <div class="container container-media">
                <h2>Медіа-запити</h2>
                <p>
                    Медіа-запити - це те, що робить можливим створення сучасних адаптивних веб-сторінок, 
                    які однаково добре виглядають на будь-якому екрані, чи то десктоп, чи то смартфон. 
                    Все зводиться до застосування того або іншого CSS-правила, залежно від розміру вікна 
                    браузера (області перегляду, в'юпорту), налаштувань браузера або можливостей пристрою
                </p>
                <ul>
                    <li>Алгоритм застосування стилів наступний:</li>
                    <li>Розробник описує набір медіа-запитів і CSS-правил всередині них.</li>
                    <li>Браузер відстежує зміну розміру в'юпорту.</li>
                    <li>Браузер застосовує CSS-правила з медіа-запитів, що відповідають поточному розміру в'юпорту.</li>
                </ul>
                <pre>
        @media screen and (min-width: 900px) {
            body {
              background-color: orange;
            }
          }
                </pre>
                <pre>
        під час друку документа.
        @media print 

        при ширині в'юпорту більше 400px.
        @media screen and (min-width: 400px) 

        Тип screen можна не вказувати, 
        якщо стилі пишуться тільки для екранів.
        @media (min-width: 400px)
                </pre>
                <h3>Медіа-типи</h3>
                <ul>
                    <li>all - якщо не вказати тип носія, за замовчуванням буде використано це значення, яке означає будь-який пристрій.</li>
                    <li>
                        print - відповідає принтерам і пристроям, призначених для відтворення друкованого варіанту, наприклад веб-браузера, 
                        що відображає документ у режимі «Попередній перегляд».
                    </li>
                    <li>
                        screen - описує пристрої з фізичним екраном: смартфони, планшети, монітори, телевізори тощо. Тобто все, 
                        що не охоплює тип print.
                    </li>
                </ul>

                <h3>Логічні оператори</h3>
                <p>
                    Медіа-тип і медіа-функції можуть бути розділені необов'язковими логічними операторами not, and і 
                    only - значення за замовчуванням.
                </p>
                <pre>
        @media only|not media-type only|and|
            not (media-feature)
                </pre>

                <h4>Оператор and</h4>
                <p>
                    Оператор and (буквально «І») використовується не тільки між типом носія і медіа-умовою, але і для зв'язування декількох 
                    медіа-функцій з перевірками значень.
                </p>
                <pre>
        @media screen and (min-width: 400px) 
            and (max-width: 800px) {}
                </pre>

                <h4>Оператор , or</h4>
                <p>
                    Оператор , or (буквально «АБО») дозволяє вказати набір виразів, при виконанні хочаб одного з них, 
                    виконається медіа-запит
                </p>
                <pre>
    @media (max-width: 600px), (min-width: 900px)
    @media (max-width: 600px) or (min-width: 900px)
                </pre>

                <h4>Оператор not</h4>
                <pre>
    @media not print {} // скрізь, крім друку
    /* Ніколи не виконається */
    @media not (max-width: 500px)
    Виконається, якщо ширина буде більша за 500px.
    @media not screen and (max-width: 500px) 
                </pre>
            </div>
        </section>

        <section class="section-about section-media">
            <div class="container container-media">
                <h2>Метатег viewport</h2>
                <p>
                    Сторінки, адаптовані для перегляду на різних пристроях, повинні містити в розділі head мета-тег viewport. Він повідомляє браузеру, 
                    яким чином потрібно контролювати розміри і масштаб в'юпорту.
                </p>
                <pre>
    head
    !-- Інші мета-теги --
    meta name="viewport" content="width=device-width, 
        initial-scale=1.0" /
    title Мета-тег viewport 
        важливий для адаптивних сторінок /title
    /head
                </pre>
                <div>
                    <img src="../img/vievport.JPG" alt="vievport">
                </div>
                <ol>
                    <li>3 - вибір пристрою з точними розмірами, наприклад iPhone, iPad, Pixel тощо, або значення 
                        за замовчуванням - Reponsive, респонсивний режим з довільною шириною в'юпорту.
                    </li>
                    <li>4 - поточні розміри ширини і висоти в'юпорту. Також можна ввести значення вручну.</li>
                    <li>5 - зміна масштабу, на випадок, коли робота ведеться з великими величинами і потрібно подивитися повністю всю верстку.</li>
                    <li>6 - можливість імітувати поворот пристрою у портретний або ландшафтний режим.</li>
                </ol>
            </div>
        </section>

        <section class="section-about section-media">
            <div class="container container-media">
                <h2>Типи верстки adaptive responsive</h2>
                <p>
                    Респонсивна (responsive) веб-сторінка - має кілька варіантів відображення, переходи між 
                    ними плавні, елементи і контейнер тягнуться як гумові. При зміні розміру в'юпорту блоки 
                    плавно стискаються або розтягуються, а коли настає точка перелому (breakpoint) - 
                    змінюють своє розташування таким чином, щоб оптимально зайняти увесь вільний 
                    простір за горизонталлю.
                </p>
                <p>
                    Адаптивна (adaptive) веб-сторінка - має кілька варіантів відображення, і, на відміну 
                    від респонсивної сторінки - буквально. Дизайн змінюється ривками у жорстко заданих 
                    точках перелому, і не тягнеться між ними.
                </p>
                <p><a href="https://codepen.io/goit-academy/pen/ZEQBaEy" target="_blank">Example</a></p>
            </div>
        </section>

        
        <section class="section-about section-media">
            <div class="container container-media">
                <h2>Щільність пікселів</h2>
                <h3>Ретинізація графіки</h3>
                <pre>
    img src="icon.png" width="200" height="300"
    img src="icon@2x.png" width="200" height="300"
    img src="icon@3x.png" width="200" height="300"
                </pre>
                <p>
                    Далі ми навчимося завантажувати різні зображення під кожну ширину або щільність екрану.
                </p>
            </div>
        </section>

        <section class="section-about section-media">
            <div class="container container-media">
                <h2>Респонсивні зображення</h2>
                <p>
                    Респонсивні зображення - це термін для опису набору прийомів, що використовуються в HTML і CSS, 
                    за допомогою яких контентні та фонові зображення виглядають однаково добре на пристроях з 
                    різними розмірами і щільністю екрану.
                </p>
                <pre>
    /* Властивості потрібно застосувати до всіх зображень,
    тому використовується селектор тегу. */
    img {
        display: block;
        max-width: 100%;
        height: auto;
    }
                </pre>

                <h3>Респонсивні фонові зображення</h3>
                <pre>
    .box {
        width: 480px;
        height: 320px;
        background-image: url('photo.png');
        background-size: 480px 320px;
      }
      
      @media (min-device-pixel-ratio: 2),
        (-webkit-min-device-pixel-ratio: 2),
        (min-resolution: 192dpi),
        (min-resolution: 2dppx) {
        .box {
          background-image: url('photo@2x.png');
        }
      }
                </pre>
                <p>
                    У медіа-функції min-device-pixel-ratio вказується числове значення піксельної щільності 
                    екрану - коефіцієнт між фізичними і CSS-пікселями. Також необхідно вказати функцію 
                    min-resolution з двома різними значеннями.
                </p>
                <ul>
                    <li>
                        dpi (dots per inch) - кількість фізичних пікселів на дюйм екрана. 
                        На екранах стандартної щільності пікселів в одному дюймі 96 точок.
                    </li>
                    <li>
                        dppx (dots per pixel) - кількість фізичних пікселів в одному CSS-пікселі, 
                        іншими словами - це щільність пікселів. 1dppx = 96dpi.
                    </li>
                    <li>
                        Медіа-функція min-device-pixel-ratio підтримується деякими браузерами тільки з вендорним префіксом, 
                        тому, якщо обробити цей код автопрефіксером, отримаємо фінальний варіант.
                    </li>
                </ul>

                <div class="box-retina"></div>
                <p>
                    Якщо відкрити інструменти розробника і перейти на вкладку Network, то буде видно, 
                    що завантажується тільки одне зображення
                </p>
                <div>
                    <img src="../img/network.JPG" alt="network">
                </div>
            </div>
        </section>


        <section class="section-about section-media">
            <div class="container container-media">
                <h2>Респонсивний елемент img</h2>
                <p>
                    Респонсивний елемент <img> використовується браузером для завантаження тільки того зображення, 
                    яке підходить для цього пристрою із запропонованих розробником. Розробник вказує список 
                    доступних для завантаження зображень, а браузер, виходячи з розміру екрану пристрою і 
                    його піксельної щільності, вибирає найбільш вдалий.
                </p>
                <h3>Атрибут srcset</h3>
                <p>
                    Визначає список версій однакового зображення різних розмірів. Не варто намагатися 
                    завантажити різні зображення (за контентом або форматом) за допомогою цієї техніки, 
                    браузер звертає увагу тільки на розмір і вважає, що все, що передають в srcset - 
                    це версії одного й того самого зображення.
                </p>
                <pre>
                    img srcset="" src="" alt="" /
                </pre>

                <h3>Дескриптор x</h3>
                <p>
                    Найпростіший спосіб використання респонсивного елемента img - це застосування дескриптора x, 
                    який буквально вказує браузеру, для якої щільності екрану підходить ця версія зображення.
                </p>
                <pre>
    img
      srcset="photo.jpg 1x, photo@2x.jpg 2x"
      src="photo.jpg"
      alt="Опис зображення для усіх версій"
    /
                </pre>
                <p>
                    В атрибуті src вказується версія зображення стандартної якості, яка буде використана у разі, 
                    якщо браузер старий і не знає про srcset. В атрибуті srcset вказуємо 1x і 2x версії зображення, 
                    розділяючи оголошення комою. Якщо сторінка буде відкрита на пристрої з щільністю пікселів 2 
                    або вище, замість стандартного, буде використане зображення photo@2x.jpg.
                </p>
                <p>
                    У прикладі для атрибута srcset вказані зображення стандартної і подвійної щільності, 
                    а також оригінальне зображення за замовчуванням в атрибуті src.
                </p>

                <div class="thumb-respons-img">
                    <img srcset="https://picsum.photos/id/237/320/240 1x, 
                                https://picsum.photos/id/237/640/480 2x" 
                        src="https://picsum.photos/id/237/320/240" 
                        alt="Cute puppy" />
                </div>

                <p>
                    Єдиний недолік такого підходу полягає в обмеженості критеріїв, за якими браузер вибирає 
                    зображення - тільки щільність пікселів екрану. Респонсивні зображення використовуються у 
                    респонсивній верстці, розміри блоків в якій змінюються, залежно від розміру в'юпорту.
                </p>
                <p>
                    Не завжди можливо задати точні розміри зображення на екрані, тому що під час збільшення 
                    в'юпорту необхідно буде показувати зображення 300x200 у блоці розмірами 600x400 пікселів 
                    або більше.
                </p>
                <p>
                    Ідеально, якби браузер вибирав зображення не тільки за щільністю пікселів, але ще враховував 
                    поточний розмір в'юпорту і розмір самого зображення на екрані. Для цього йому необхідно 
                    знати розмір оригінального зображення із запропонованого списку. Якраз це завдання і 
                    вирішує дескриптор w та атрибут sizes.
                </p>

                <h3>Дескриптор w</h3>
                <p>
                    Ми, як і раніше, надаємо одне і те саме зображення у різних розмірах, але водночас даємо 
                    браузеру більше інформації, щоб він міг сам вибрати необхідне зображення, виходячи зі 
                    щільності пікселів, розміру в'юпорту та оригінального розміру зображення.
                </p>
                <pre>
    img
srcset="photo-300.jpg 300w, photo-600.jpg 600w, photo-1200.jpg 1200w"
    src="photo-300.jpg"
    alt="Опис зображення для всіх версій"/
                </pre>

                <p>
                    Позначаючи кожне зображення дескриптором w, в якому вказана ширина цього зображення в 
                    пікселях, ми перекладаємо всі обчислення і вибір зображення на браузер.
                </p>

                <h3>Атрибут sizes</h3>
                <p>
                    У разі використання дескриптора w, тобто прив'язки до фізичних розмірів зображення, 
                    необхідно використовувати атрибут sizes, щоб підказати браузеру приблизний розмір 
                    полотна, на якому в браузері буде малюватися зображення. Розміри можна вказувати як 
                    у пікселях, так і у відносних одиницях.
                </p>
                <p>
                    Наприклад, якщо зображення на екрані завжди буде 300px, достатньо вказати одне значення.
                </p>
                <pre>
img
  srcset="photo-300.jpg 300w, photo-600.jpg 600w, photo-1200.jpg 1200w"
  sizes="300px"
  src="photo-300.jpg"
  alt="Опис зображення для всіх версій"
/
                </pre>
                <p>
                    У разі, коли зображення повинно бути на 100% ширини в'юпорту на мобільних пристроях 
                    до 600px, 300px на екранах 601-900px і 600px на екранах ширше, значення sizes буде 
                    містити медіа-запити.
                </p>

                <pre>
img
  srcset="photo-300.jpg 300w, photo-600.jpg 600w, photo-1200.jpg 1200w"
  sizes="(min-width: 900px) 600px, (min-width: 600px) 300px, 100vw"
  src="photo-300.jpg"
  alt="Опис зображення для всіх версій"
/
                </pre>
                <ul>
                    <li>(min-width: 900px) 600px - при ширині в'юпорту від 900px, розмір зображення 600px.</li>
                    <li>(min-width: 600px) 300px - при ширині в'юпорту від 600px, розмір зображення 300px</li>
                    <li>100vw - повна ширина в'юпорту. Значення за замовчуванням, яке вказується останнім.</li>
                </ul>         
            </div>
        </section>


        <section class="section-about section-media">
            <div class="container container-media">
                <h2>Як браузер вибирає</h2>
                <p>
                    Браузер вибирає зображення за дуже простим алгоритмом - множить розмір полотна 
                    (значення sizes) на щільність пікселів і вибирає найближче, підходяще за розміром 
                    зображення.
                </p>
                <div>
                    <img src="../img/adaptiv-viev-width.jpg" alt="adaptiv-viev-width">
                </div>
                <p>
                    На ілюстрації показаний десктоп і смартфон з шириною зображення 100% ширини в'юпорту. 
                    Напишемо розмітку респонсивного елемента img для цього випадку.
                </p>
                <pre>
img
  srcset="img-1200x714.png 1200w, img-3000x1768.png 3000w"
  sizes="100vw"
  src="img.png"
  alt="Опис зображення для всіх версій"
/
                </pre>
                <p>Браузер множить ширину в'юпорту на щільність пікселів.</p>
                <ul>
                    <li>1680 * 2 = 3360 - на ілюстрації це img-3000x1768.png для десктопа.</li>
                    <li>375 * 3 = 1125 - на ілюстрації це img-1200x714.png для смартфона.</li>
                </ul>

                <p>
                    У разі, коли в sizes задане фіксоване значення ширини зображення, браузер 
                    помножить його на щільність пікселів. Наприклад, sizes задане значення 400px.
                </p>
                <pre>
img
  srcset="
    photo-300.jpg   300w,
    photo-600.jpg   600w,
    photo-900.jpg   900w,
    photo-1200.jpg 1200w
  "
  sizes="400px"
  src="photo-300.jpg"
  alt="Опис зображення для всіх версій"
/
                </pre>

                <ul>
                    <li>400 * 2 = 800 - для десктопа буде взято зображення максимально близьке до 800px, а саме photo-900.jpg.</li>
                    <li>400 * 3 = 1200 - для смартфона буде взято зображення максимально близьке до 1200px, а саме photo-1200.jpg.</li>
                </ul>
                <p>
                    Тобто для мобільного пристрою буде взято більше зображення? Не завжди, 
                    браузер вибирає те зображення, яке найкраще підходить в цій ситуації.
                </p>
            </div>
        </section>


        <section class="section-about section-media">
            <div class="container container-media">
                <h2>Елемент picture</h2>
                <p>
                    Як ми вже розібралися, респонсивний елемент img дозволяє завантажувати різні версії 
                    (розміри) однакового зображення. Елемент picture використовується у разі, коли 
                    необхідно завантажити зображення різного формату (розширення), зображення різної 
                    геометрії (кадрування) або зображення для підтримки режиму темної теми.
                </p>
                <p>
                    Елемент picture - це контейнер для одного або більше елементів source, в яких перераховуються 
                    можливі варіанти, та одного обов'язкового елемента img
                </p>
                <pre>
        picture
            source srcset="" media="" sizes="" type="" /
            source srcset="" media="" sizes="" type="" /
            img src="" alt="" /
        /picture
                </pre>
                <ul>
                    <li>
                        Браузер перевірить кожен з елементів source і вибере найбільш придатний. 
                        Щоб вибрати оптимальне зображення, браузер аналізує атрибути srcset, media, sizes і type.
                    </li>
                    <li>
                        Якщо жоден з варіантів не підійде, буде вибране зображення, вказане в 
                        атрибуті src елемента img
                    </li>
                    <li>
                        Вибране зображення малюється на полотні, яке займає елемент img.
                    </li>
                </ul>

                <h3>Підтримка сучасних форматів</h3>
                <p>
                    Елемент picture застосовується для завантаження зображень в сучасних форматах 
                    (наприклад webp). Для браузерів, які не підтримують такі формати, вказується 
                    дефолтне зображення в альтернативному форматі (наприклад jpg або png). 
                    Атрибут type вказує MIME-тип зображення. Якщо браузер не підтримує його, 
                    то цей елемент source пропускається.
                </p>
                <p>
                    Наступний приклад визначає елемент picture, який дозволить браузерам завантажити photo.webp, 
                    водночас надається альтернатива photo.jpg для браузерів, які ще не підтримують webp.
                </p>
                <pre>
&lt;picture&gt;
    &lt;source srcset="photo.webp 1x, photo@2x.webp 2x" 
        type="image/webp" /&gt;
    &lt;source srcset="photo.jpg 1x, photo@2x.jpg 2x" 
        type="image/jpeg" /&gt;
    &lt;img src="photo.jpg" alt="Кіт" /&gt;
&lt;/picture&gt;
                </pre>
                <p>
                    Всі варіанти доступних зображень перелічуються в тегах source, 
                    які будуть послідовно оброблятися браузером.
                </p>
                <p>
                    Для того щоб швидко і зручно конвертувати зображення у формат webp, 
                    можна використовувати онлайн-інструменти, 
                    наприклад <a href="https://squoosh.app/" target="_blank">squoosh.app.</a>
                </p>

                <h3>Кадрування (art direction)</h3>
                <p>
                    Атрибут media дозволяє визначити медіа-запит, який браузер буде аналізувати 
                    для вибору елемента source. Якщо медіа-запит визначається як помилковий 
                    (не підходить), то цей елемент source пропускається.
                </p>
                <p>
                    Перейдіть у приклад і змінюйте ширину області перегляду.
                </p>

                <div class="container-art">
                    <div class="thumb-art">
                      <picture>
                        <source srcset="https://picsum.photos/id/237/400/600" media="(max-width: 600px)">
                        <source srcset="https://picsum.photos/id/237/800/400" media="(min-width: 601px)">
                        <img src="https://picsum.photos/id/237/300/200" alt="Cute puppy">
                      </picture>
                    </div>
                  </div>

                <p>
                    Для підтримки екранів з високою щільністю пікселів, кожному елементу source 
                    необхідно додати набір зображень з дескрипторами в атрибут srcset, і не 
                    забути задати атрибут sizes.
                </p>
                <p>
                    Додамо в код попереднього прикладу підтримку ретіни зі щільністю 2x, використовуючи 
                    дескриптор w. Обмежимо ландшафтну версію зображення максимальною шириною 800px, 
                    якщо в'юпорт ширший за 800 пікселів. В іншому випадку зображення тягнеться 
                    на 100% в'юпорту.
                </p>

                <div class="container-art">
                    <div class="thumb-art">
                      <picture>
                        <source srcset="https://picsum.photos/id/237/400/600 400w, https://picsum.photos/id/237/800/1200 800w" media="(max-width: 600px)" sizes="(min-width: 480px) 480px, 100vw">
                        <source srcset="https://picsum.photos/id/237/800/400 800w, https://picsum.photos/id/237/1600/800 1600w" media="(min-width: 601px)" sizes="(min-width: 800px) 800px, 100vw">
                        <img src="https://picsum.photos/id/237/300/200" alt="Cute puppy">
                      </picture>
                    </div>
                </div>

            </div>
        </section>

    </main>
    <footer class="page-footer  section-media">
        <div class="container container-media">
            <h3>footer</h3>
            <address>
                <p>address</p>
            </address>
        </div>
    </footer>
    
    <!-- Lodash library script file -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js" 
        integrity="sha512-WFN04846sdKMIP5LKNphMaWzU7YpMyCU245etK3g/2ARYbPK9Ub18eG+ljU96qKRCWh+quCY7yefSmlkQw1ANQ==" 
        crossorigin="anonymous" referrerpolicy="no-referrer">
    </script>

    <script src="../js-exampl/btn-top.js"></script>

</body>
</html>